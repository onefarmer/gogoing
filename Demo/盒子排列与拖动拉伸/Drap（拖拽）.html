<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			#box{width: 200px;height: 50px;background: aqua;position: absolute}
		</style>
	</head>
	<body>
		<div id="box"></div>
	</body>
</html>
<script type="text/javascript">
	function modalmove(box,tlt){
		//判断是否传入标题
		tlt = tlt || box;
		tlt.onmousedown=function(e){
			//获得鼠标偏移量
			var dis_l = e.clientX-box.offsetLeft;
			var dis_h = e.clientY-box.offsetTop;
			//盒子拖动
			document.onmousemove=function(e){
				//浏览器宽高
				var w_l = document.documentElement.clientWidth;
				var w_h = document.documentElement.clientHeight;
				//盒子移动变量
				var l = e.clientX-dis_l;
				var h = e.clientY-dis_h;
				//移动极限判断
				if(l<=0){l=0}
				else if(l>=w_l-box.offsetWidth){l=w_l-box.offsetWidth}
				if(h<=0){h=0}
				else if(h>=w_h-box.offsetHeight){h=w_h-box.offsetHeight}
				//位移
				box.style.left = l+"px";
				box.style.top = h+"px";				
			}
			//取消盒子移动
			document.onmouseup=function(){
				document.onmousemove=null
			}
		}
	}
	modalmove(document.getElementById('box'))
</script>