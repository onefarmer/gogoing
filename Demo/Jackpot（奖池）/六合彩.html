<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        *{ margin:0; padding:0}
        ul{ list-style:none}
        .lucky_box{ width:500px; height:300px; border:1px solid red; border-radius:5px; padding:20px; margin:100px auto}
        h2{ text-align:center; height:60px; color:red}
        #lucky_ball_list{ height:50px; padding-left:65px; margin-bottom:30px;}
        #lucky_ball_list li{ float:left; height:40px; line-height:40px; width:40px; text-align:center; font-size:24px; border:2px solid red; margin-right:20px; color:red}
        button{ height:40px; width:100px}
        p{ word-break:break-all; font-size:20px; padding:10px; color:#333;}
    </style>
    <script src="../../Jquery/jquery/jquery-1.11.3.min.js"></script>
</head>
<body>
    <div id="box" class="lucky_box">
        <h2>双色球大开奖</h2>
        <ul id="lucky_ball_list">
            <li>祝</li><li>你</li><li>发</li><li>大</li><li>财</li><li>!</li>
        </ul>       
        <div style=" text-align:center">
            <button id="btn" type="button">开始</button>
        </div>
        <p id="info"></p>
    </div>   
    <script>
        $(function(){
            $('#btn').on('click',function(){
                $('#info').empty()
                clearInterval(timer);
                clearInterval(timer2);
                var allBal = []; // 数字数组
                // 存入30个数字
                for( var i = 1; i <= 30; i++){
                    allBal.push( i < 10?'0'+i : i) // 10以前0开头
                }   		
                var j = 0;
                var timer2 // 定时器
                function run(n){
                    clearInterval(timer2);
                    timer2 = setInterval(function(){
                        // 从第n个开始滚动
                        for( var i = n; i < $('li').length ; i++){
                            var num = parseInt( Math.random() * allBal.length) // 随机数
                            $('li').eq(i).html(	allBal[num]	)
                        }
                    },50)
                }
                run(j)	
                var timer = setInterval(function(){
                    var num=parseInt(	Math.random()*allBal.length	);//抽出随机数
                    $('li').eq(j).html( allBal.splice(num,1)) // splice 返回第num个数字并删除
                    j++;
                    run(j);//重新开始滚动
                    if( j > $('li').length){
                        clearInterval(timer);
                        $('#info').text( '没中奖的数字' +allBal.toString())
                    }
                },500)	   				
            })

        })
    </script>
</body>
</html>