<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.min.css"/>
		<style type="text/css">
			.show-hide .confirm,.show-hide .cancel{display: none;}
			.hide-show .edit,.hide-show .delate{display: none;}
			.edit-span span{display: none;}
			.edit-input input{display: none;}
		</style>
	</head>
	<body>
		<table class="table table-responsive">
		    <thead>
		        <tr>
		            <th>名称</th>
		            <th>归类</th>
		            <th>位置</th>
		            <th>操作</th>
		        </tr>
		    </thead>
		    <tbody>
		        <tr class="tabtr alert-info">
		            <td class="edit-input"><span>锐雯</span><input type="text" class="form-control" value="锐雯"/></td>
		            <td class="edit-input"><span>中前期</span><input type="text" class="form-control" value="中前期"/></td>
		            <td class="edit-input"><span>上单</span><input type="text" class="form-control" value="上单"/></td>
		            <td class="show-hide">
		            	<a href="" class="edit">编辑</a>
		            	<a href="" class="delate">删除</a>
		            	<a href="" class="confirm">确定</a>
		            	<a href="" class="cancel">取消</a>
		            </td>
		        </tr>
		        <tr class="tabtr alert-success">
		            <td class="edit-input"><span>劫ZED</span><input type="text" class="form-control" value="劫ZED"/></td>
		            <td class="edit-input"><span>中前期</span><input type="text" class="form-control" value="中前期"/></td>
		            <td class="edit-input"><span>中单</span><input type="text" class="form-control" value="中单"/></td>
		            <td class="show-hide">
		            	<a href="" class="edit">编辑</a>
		            	<a href="" class="delate">删除</a>
		            	<a href="" class="confirm">确定</a>
		            	<a href="" class="cancel">取消</a>
		            </td>		            
		        </tr>
		        <tr class="tabtr alert-warning">
		            <td class="edit-input"><span>薇恩</span><input type="text" class="form-control"/ value="薇恩"></td>
		            <td class="edit-input"><span>后期</span><input type="text" class="form-control"/ value="后期"></td>
		            <td class="edit-input"><span>射手</span><input type="text" class="form-control"/ value="射手"></td>
		            <td class="show-hide">
		            	<a href="" class="edit">编辑</a>
		            	<a href="" class="delate">删除</a>
		            	<a href="" class="confirm">确定</a>
		            	<a href="" class="cancel">取消</a>
		            </td>		            
		        </tr>
		        <tr class="tabtr alert-danger">
		            <td class="edit-input"><span>李青</span><input type="text" class="form-control" value="李青"/></td>
		            <td class="edit-input"><span>前期</span><input type="text" class="form-control" value="前期"/></td>
		            <td class="edit-input"><span>打野</span><input type="text" class="form-control" value="打野"/></td>
		            <td class="show-hide">
		            	<a href="" class="edit">编辑</a>
		            	<a href="" class="delate">删除</a>
		            	<a href="" class="confirm">确定</a>
		            	<a href="" class="cancel">取消</a>
		            </td>		            
		        </tr>
		        <tr class="tabtr alert-info">
		            <td class="edit-input"><span>菲奥娜</span><input type="text" class="form-control" value="菲奥娜"/></td>
		            <td class="edit-input"><span>中期</span><input type="text" class="form-control" value="中期"/></td>
		            <td class="edit-input"><span>上单</span><input type="text" class="form-control" value="上单"/></td>
		            <td class="show-hide">
		            	<a href="" class="edit">编辑</a>
		            	<a href="" class="delate">删除</a>
		            	<a href="" class="confirm">确定</a>
		            	<a href="" class="cancel">取消</a>
		            </td>		            
		        </tr>
		        <tr class="tabtr alert-success">
		            <td class="edit-input"><span>雷克顿</span><input type="text" class="form-control" value="雷克顿"/></td>
		            <td class="edit-input"><span>无敌前期</span><input type="text" class="form-control" value="无敌前期"/></td>
		            <td class="edit-input"><span>上单</span><input type="text" class="form-control" value="上单"/></td>
		            <td class="show-hide">
		            	<a href="" class="edit">编辑</a>
		            	<a href="" class="delate">删除</a>
		            	<a href="" class="confirm">确定</a>
		            	<a href="" class="cancel">取消</a>
		            </td>		            
		        </tr>
		        <tr class="tabtr alert-warning">
		            <td class="edit-input"><span>兰博</span><input type="text" class="form-control" value="菲奥娜"/></td>
		            <td class="edit-input"><span>中前期</span><input type="text" class="form-control" value="中前期"/></td>
		            <td class="edit-input"><span>上单</span><input type="text" class="form-control" value="上单"/></td>
		            <td class="show-hide">
		            	<a href="" class="edit">编辑</a>
		            	<a href="" class="delate">删除</a>
		            	<a href="" class="confirm">确定</a>
		            	<a href="" class="cancel">取消</a>
		            </td>		            
		        </tr>
		        <tr class="tabtr alert-danger">
		            <td class="edit-input"><span>吸血鬼</span><input type="text" class="form-control" value="菲奥娜"/></td>
		            <td class="edit-input"><span>后期1打5</span><input type="text" class="form-control" value="后期1打5"/></td>
		            <td class="edit-input"><span>中单</span><input type="text" class="form-control" value="上单"/></td>
		            <td class="show-hide">
		            	<a href="" class="edit">编辑</a>
		            	<a href="" class="delate">删除</a>
		            	<a href="" class="confirm">确定</a>
		            	<a href="" class="cancel">取消</a>
		            </td>		            
		        </tr>		        
		    </tbody>
		</table>		
	</body>
</html>
<script type="text/javascript">
	var t_r = document.getElementsByClassName("tabtr");//取得所有tr对象
	var edtVal = [];//点编辑时,将input原始val存入的临时数组
	var arrVal = [];//临时数组,用于存储input用户输入的val
	var arrEle = [];//临时数组,存储元素
	//增删改查函数
		for(var i=0;i< t_r.length;i++){
			t_r[i].addEventListener('click',function(e){
				e.preventDefault()//清除a的点击默认链接事件
				var oEle = e.target;//目标元素
				var eP = oEle.parentElement.parentElement.children;//点击目标元素爷级tr下的所有的子级td	
				//编辑按钮-------------------------------------------------------
				if(oEle.className=="edit"){
					oEle.parentElement.className="hide-show";//改变Class 改变显示隐藏
					for(var j=0;j<eP.length-1;j++){
						for(var k=0;k<eP[j].children.length;k++){//Td遍历
							if(eP[j].children[k].tagName=="SPAN"){//SPAN
								var txt = eP[j].children[k].innerHTML;//SPAN的值
								edtVal.push(txt)//Push临时数组
							}						
						}	
						eP[j].className = "edit-span";//隐藏span
					}
				}
				//如果点击的是删除按钮---------------------------------------------------------------
				if(oEle.className=="delate"){
					oEle.parentElement.parentElement.remove()//删除父级的父级
				}
				//如果点击的是确定按钮-------------------------------------------------------------
				if(oEle.className=="confirm"){
					for(var j=0;j<eP.length-1;j++){//TD遍历
						for(var k=0;k<eP[j].children.length;k++){//TD子元素遍历
							if(eP[j].children[k].tagName=="INPUT"){//Input
								var val = eP[j].children[k].value;//input的值
								arrVal.push(val)//放进装值的临时数组
							}
							if(eP[j].children[k].tagName=="SPAN"){//SPAN
								arrEle.push(eP[j].children[k])//PUSH临时数组
							}							
						}
						arrEle[j].innerHTML = arrVal[j]//将span的内容改变成刚从input输入的所取值
						eP[j].className = "edit-input";//隐藏input
					}
					arrEle.length=0;//数组清空
					arrVal.length=0;//数组清空
					edtVal.length=0;//装有input编辑前的原有值的数组清空
					oEle.parentElement.className="show-hide";//隐藏 确定 取消 按钮
				}
				//如果点击到取消按钮---------------------------------------------------------------------
				if(oEle.className=="cancel"){
					for(var j=0;j<eP.length-1;j++){
						eP[j].className = "edit-input";//隐藏input
						for(var k=0;k<eP[j].children.length;k++){//Td子元素遍历
							if(eP[j].children[k].tagName=="INPUT"){//Input
								eP[j].children[k].value=edtVal[j];//恢复Input的值
							}						
						}						
					}	
					edtVal.length=0;//装有input编辑前的原有值的数组清空
					oEle.parentElement.className="show-hide";//隐藏 确定 取消 按钮
				}
			},false)
		}
	

</script>