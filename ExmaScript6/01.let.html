<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>ES6 let</title>
</head>
<body>
<script>
    // var关键字声明变量，无论声明在何处，都会被视为声明在函数的最顶部
    // let只在函数括号内的块级作用域 , 其他地方找不到 。

    // for循环中会污染i的全局，输出10次10
    var facus = [];
    for(var i=0;i<10;i++){
        facus.push( function(){ console.log('Es5中的i值：' + i) })
    }
    facus.forEach( function(item,index){ item() })

    // Es5输出 0-9
    var facus2 = [];
    for(var t=0;t<10;t++){
        facus2.push(
            (function(val){
                return function(){
                    console.log('Es5输出0-9：' + val)
                }
            }(t))
        )
    }
    facus2.forEach(function(item,index){ item() })
    
    // Es6 0-9
    var facus3 = [];
    for(let m=0;m<10;m++){
        facus3.push(function(){
            console.log('es6：' + m)
        })
    }
    facus3.forEach( item => { item() })

    /*
        var facus3 = [];
        var _loop = function _loop(m) {
            facus3.push(function () {
                console.log(m);
            });
        };
        for (var m = 0; m < 10; m++) {
            _loop(m);
        }
        facus3.forEach(function (itemFn) {
            itemFn();
        });
    */
</script>
</body>
</html>