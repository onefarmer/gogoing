<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <img id="img">
    <input id="fileBtn" type="file" onchange="upload('#fileBtn', '#img');" accept="image/*" capture="camera"/>
<script>
/*
* 所有type属性为file的 <input> 元素都有一个files属性(property),用来存储用户所选择的文件
*  HTML5定义了FileReader作为文件API的重要成员用于读取文件，根据W3C的定义，FileReader接口提供了读取文件的方法和包含读取结果的事件模型。
* 
*/
    function upload(filename,showimg){
        var ofile=document.querySelector(filename);
        var file= ofile.files[0];
        var readfile = new FileReader();
        readfile.readAsDataURL(file);
        readfile.onload = function(e)
        {
        //   console.log(e.target.result);
            document.querySelector(showimg).setAttribute("src",e.target.result);
        }
    }
    // 该函数有如下三个参数
    navigator.geolocation.getCurrentPosition( 
        // 如果成果则执行该回调函数
        function(pos){ 
            alert(
                '  30：' + pos.coords.latitude +
                '  60：' + pos.coords.longitude +
                '  180：' + pos.coords.altitude +
                '  30：' + pos.coords.accuracy +
                '  60：' + pos.coords.altitudeAccuracy +
                '  5：' + pos.coords.speed
            );
        }, 
        // 如果失败则执行该回调函数
        function(err){ 
            alert(err.message);
        }, 
        // 附带参数
        { 
            enableHighAccuracy: false, // 提高精度(耗费资源)
            timeout: 3000, // 超过timeout则调用失败的回调函数
            maximumAge: 1000 // 获取到的地理信息的有效期，超过有效期则重新获取一次位置信息
        }
    );
</script>
</body>
</html>